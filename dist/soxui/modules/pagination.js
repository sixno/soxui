(function(){"use strict";function e(){this.version="1.0.0";this.modules=[];if(typeof soxui!="undefined"&&soxui.$){var i=soxui.$}else{if(typeof jQuery=="undefined"){typeof console=="object"&&console.error("soxpop error: sorry, jQuery is required, you must load it before this script.");return false}}var s=document,o="getElementById",f="getElementsByTagName",e="laypage",t="soxui-disabled",n=function(e){var i=this;i.config=e||{};i.config.index=++l.index;i.render(true)};n.prototype.type=function(){var e=this.config;if(typeof e.elem==="object"){return e.elem.length===undefined?2:3}};n.prototype.view=function(){var e=this,a=e.config,r=a.groups="groups"in a?a.groups|0:5;a.layout=typeof a.layout==="object"?a.layout:["prev","page","next"];a.count=a.count|0;a.curr=a.curr|0||1;a.limits=typeof a.limits==="object"?a.limits:[10,20,30,40,50];a.limit=a.limit|0||10;a.pages=Math.ceil(a.count/a.limit)||1;if(a.curr>a.pages){a.curr=a.pages}if(r<0){r=1}else if(r>a.pages){r=a.pages}a.prev="prev"in a?a.prev:"&#x4E0A;&#x4E00;&#x9875;";a.next="next"in a?a.next:"&#x4E0B;&#x4E00;&#x9875;";var s=a.pages>r?Math.ceil((a.curr+(r>1?1:0))/(r>0?r:1)):1,n={prev:function(){return a.prev?'<a href="javascript:;" class="soxui-pagination-prev'+(a.curr==1?" "+t:"")+'" data-page="'+(a.curr-1)+'">'+a.prev+"</a>":""}(),page:function(){var e=[];if(a.count<1){return""}if(s>1&&a.first!==false&&r!==0){e.push('<a href="javascript:;" class="soxui-pagination-first" data-page="1"    title="&#x9996;&#x9875;">'+(a.first||1)+"</a>")}var i=Math.floor((r-1)/2),t=s>1?a.curr-i:1,n=s>1?function(){var e=a.curr+(r-i-1);return e>a.pages?a.pages:e}():r;if(n-t<r-1){t=n-r+1}if(a.first!==false&&t>2){e.push('<span class="soxui-pagination-spr">&#x2026;</span>')}for(;t<=n;t++){if(t===a.curr){e.push('<span class="soxui-pagination-curr"><em class="soxui-pagination-em" '+(/^#/.test(a.theme)?'style="background-color:'+a.theme+';"':"")+"></em><em>"+t+"</em></span>")}else{e.push('<a href="javascript:;" data-page="'+t+'">'+t+"</a>")}}if(a.pages>r&&a.pages>n&&a.last!==false){if(n+1<a.pages){e.push('<span class="soxui-pagination-spr">&#x2026;</span>')}if(r!==0){e.push('<a href="javascript:;" class="soxui-pagination-last" title="&#x5C3E;&#x9875;"    data-page="'+a.pages+'">'+(a.last||a.pages)+"</a>")}}return e.join("")}(),next:function(){return a.next?'<a href="javascript:;" class="soxui-pagination-next'+(a.curr==a.pages?" "+t:"")+'" data-page="'+(a.curr+1)+'">'+a.next+"</a>":""}(),count:'<span class="soxui-pagination-count">共 '+a.count+" 条</span>",limit:function(){var t=['<span class="soxui-pagination-limits"><select lay-ignore>'];i.each(a.limits,function(e,i){t.push('<option value="'+i+'"'+(i==a.limit?"selected":"")+">"+i+" 条/页</option>")});return t.join("")+"</select></span>"}(),refresh:['<a href="javascript:;" data-page="'+a.curr+'" class="soxui-pagination-refresh">','<i class="soxui-icon soxui-icon-refresh"></i>',"</a>"].join(""),skip:function(){return['<span class="soxui-pagination-skip">&#x5230;&#x7B2C;','<input type="text" min="1" value="'+a.curr+'" class="soxui-input">','&#x9875;<button type="button" class="soxui-pagination-btn">&#x786e;&#x5b9a;</button>',"</span>"].join("")}()};return['<div class="soxui-box soxui-pagination soxui-pagination-'+(a.theme?/^#/.test(a.theme)?"molv":a.theme:"default")+'" id="soxui-pagination-'+a.index+'">',function(){var t=[];i.each(a.layout,function(e,i){if(n[i]){t.push(n[i])}});return t.join("")}(),"</div>"].join("")};n.prototype.jump=function(e,i){if(!e)return;var t=this,n=t.config,a=e.children,r=e[f]("button")[0],s=e[f]("input")[0],o=e[f]("select")[0],u=function(){var e=s.value.replace(/\s|\D/g,"")|0;if(e){n.curr=e;t.render()}};if(i)return u();for(var p=0,c=a.length;p<c;p++){if(a[p].nodeName.toLowerCase()==="a"){l.on(a[p],"click",function(){var e=this.getAttribute("data-page")|0;if(e<1||e>n.pages)return;n.curr=e;t.render()})}}if(o){l.on(o,"change",function(){var e=this.value;if(n.curr*e>n.count){n.curr=Math.ceil(n.count/e)}n.limit=e;t.render()})}if(r){l.on(r,"click",function(){u()})}};n.prototype.skip=function(n){if(!n)return;var a=this,e=n[f]("input")[0];if(!e)return;l.on(e,"keyup",function(e){var i=this.value,t=e.keyCode;if(/^(37|38|39|40)$/.test(t))return;if(/\D/.test(i)){this.value=i.replace(/\D/,"")}if(t===13){a.jump(n,true)}})};n.prototype.render=function(e){var i=this,t=i.config,n=i.type(),a=i.view();if(n===2){t.elem&&(t.elem.innerHTML=a)}else if(n===3){t.elem.html(a)}else{if(s[o](t.elem)){s[o](t.elem).innerHTML=a}}t.jump&&t.jump(t,e);var r=s[o]("soxui-pagination-"+t.index);i.jump(r);if(t.hash&&!e){location.hash="!"+t.hash+"="+t.curr}i.skip(r)};var l={render:function(e){var i=new n(e);return i.index},index:0,on:function(i,e,t){i.attachEvent?i.attachEvent("on"+e,function(e){e.target=e.srcElement;t.call(i,e)}):i.addEventListener(e,t,false);return this}};this.render=l.render}if(typeof soxui!="undefined"){soxui.pagination=new e}else{window.soxpagination=new e}})();