(function(){"use strict";function e(){this.version="1.0.0";this.modules=[];var a={tag_open:"{{",tag_shut:"}}"};var c={exp:function(e){return new RegExp(e,"g")},query:function(e,r,t){var n=["#([\\s\\S])+?","([^{#}])*?"][e||0];return this.exp((r||"")+a.tag_open+n+a.tag_shut+(t||""))},escape:function(e){return String(e||"").replace(/&(?!#?[a-zA-Z0-9]+;)/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/'/g,"&#39;").replace(/"/g,"&quot;")},error:function(e,r){var t="soxtpl Errorï¼š";typeof console=="object"&&console.error(t+e+"\n"+(r||""));return t+e}};this.create=function(r){var t=c.exp("^"+a.tag_open+"#","");var n=c.exp(a.tag_shut+"$","");r=r.replace(/\r|\n/g," ").replace(c.exp(a.tag_open+"#"),a.tag_open+"# ").replace(c.exp(a.tag_shut+"}"),"} "+a.tag_shut).replace(/\\/g,"\\\\").replace(/(?="|')/g,"\\").replace(c.query(),function(e){e=e.replace(t,"").replace(n,"");return'";'+e.replace(/\\/g,"")+';view+="'}).replace(c.query(1),function(e){var r='"+(';if(e.replace(/\s/g,"")===a.tag_open+a.tag_shut){return""}e=e.replace(c.exp(a.tag_open+"|"+a.tag_shut),"");if(/^=/.test(e)){e=e.replace(/^=/,"");r='"+_escape_('}return r+e.replace(/\\/g,"")+')+"'});r='"use strict";var view = "'+r+'";return view;';try{return new Function("d, _escape_",r)}catch(e){return c.error(e,r)}};this.render=function(e,r,t){if(!r)r={};e=e(r,c.escape);if(!t)return e;t(e)};this.config=function(e){e=e||{};for(var r in e){a[r]=e[r]}};return this}if(typeof soxui!="undefined"){soxui.tpl=new e}else{window.soxtpl=new e}})();