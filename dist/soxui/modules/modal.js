(function(){"use strict";function o(){this.version="1.0.0";this.modules=["tpl"];var s={target:"body",holder:'<div class="sox-modal"></div>'};this.config=function(o){o=o||{};for(var e in o){s[e]=o[e]}};if(typeof soxui!="undefined"&&soxui.$){var t=soxui.$}else{if(typeof jQuery=="undefined"){typeof console=="object"&&console.error("soxmodal error: sorry, jQuery is required, you must load it before this script.");return false}if(typeof soxui=="undefined")window["soxui"]={};for(var o in this.modules){if(typeof window["sox"+this.modules[o]]=="undefined"){typeof console=="object"&&console.error("soxmodal error: sorry, sox"+this.modules[o]+" is required, you must load it before this script.");return false}window["soxui"][this.modules[o]]=window["sox"+this.modules[o]]}}var e="";var r="";var i=false;e=document.currentScript?document.currentScript.src:function(){if(soxui.base){return soxui.base+"modules/modal.js"}else{for(var o=document.scripts.length-1;o>0;o--){if(document.scripts[o].src.indexOf("/soxui/modules/modal.js")>0)return document.scripts[o].src}}return document.scripts[0].src}();r=e.substring(0,e.lastIndexOf("/")-7)+"templates/modal.html?v="+this.version+"."+Date.parse(new Date);var n=function(e){t.ajax({async:true,type:"GET",url:r,success:function(o){i=soxui.tpl.create(o);if(typeof e=="function")e()},error:function(){typeof console=="object"&&console.error("soxmodal error: can`t find the template.")},dataType:"html"})};var u=function(){var o=t(soxui.tpl.render(i));if(typeof s.target=="string"){var e=t(s.target)}else{var e=s.target}e.append(o);console.log(o.width());o.addClass("sox-modal-show")};this.open=function(){if(!i){n(function(){u()})}else{u()}};this.close=function(){}}if(typeof soxui!="undefined"){soxui.modal=new o}else{window.soxmodal=new o}})();